<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <meta name="description" content="一个人所有的成功和失败，都是其习惯造就的结果。" />
  

  
  
  
  <meta name="baidu-site-verification" content="6YyXGXLcQi" />
  
  
  <title>个人博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="一个人所有的成功和失败，都是其习惯造就的结果。">
<meta property="og:type" content="website">
<meta property="og:title" content="个人博客">
<meta property="og:url" content="http://lagelalegal.github.io/index.html">
<meta property="og:site_name" content="个人博客">
<meta property="og:description" content="一个人所有的成功和失败，都是其习惯造就的结果。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="个人博客">
<meta name="twitter:description" content="一个人所有的成功和失败，都是其习惯造就的结果。">
  
  
    <link rel="icon" href="/css/images/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  

  
  <!-- baidu webmaster push -->
  <script src='//push.zhanzhang.baidu.com/push.js'></script>
</head>
<body class="home blog custom-background custom-font-enabled single-author">
  <div id="page" class="hfeed site">
      <header id="masthead" class="site-header" role="banner">
    <hgroup>
      <h1 class="site-title">
        <a href="/" title="个人博客" rel="home">个人博客</a>
      </h1>
      
        <script type="text/javascript" src="http://api.hitokoto.us/rand?encode=js&charset=utf-8"></script>
        <h2 class="site-description"><script>hitokoto();</script></h2>
      
    </hgroup>

    <nav id="site-navigation" class="main-navigation" role="navigation">
            <button class="menu-toggle">菜单</button>
            <a class="assistive-text" href="/#content" title="跳至内容">跳至内容</a><!--TODO-->
            <div class="menu-main-container">
                <ul id="menu-main" class="nav-menu">
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/">主页</a></li>
                
                    <li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/archives">档案</a></li>
                
                </ul>
            </div>
    </nav>
</header>
      <div id="main" class="wrapper">
        <div id="primary" class="site-content"><div id="content" role="main">
  
    <article id="post-android/text_to_speech" class="post-android/text_to_speech post type-post status-publish format-standard hentry">
    <!---->

      <header class="entry-header">
        
        
  
    <h1 class="entry-title">
      <a class="article-title" href="/android/text_to_speech/">Android TextToSpeech简单应用</a>
    </h1>
  

        
        <div class="comments-link">
            
            <a href="/android/text_to_speech/#comments" class="leave-reply">评论</a>
            
            <a href="javascript:void(0);" data-url="http://lagelalegal.github.io/android/text_to_speech/" data-id="cim36ohpo0002wj33e597sdpg" class="leave-reply bdsharebuttonbox" data-cmd="more">分享</a>
        </div><!-- .comments-link -->
      </header><!-- .entry-header -->

    <div class="entry-content">
      
        <p>TextToSpeech的简单应用</p>
<blockquote>
<p><code>TextToSpeech</code> 合成语音是从一句文字立即播放或者创建一个语音文件。<br>在这里我们使用的语音引擎是<a href="http://www.coolapk.com/apk/com.iflytek.tts" target="_blank" rel="external">讯飞的语音引擎</a><br>并且这里只涉及到播放语音文件，没有涉及到创建一个语音文件。</p>
</blockquote>
<p>实例化一个 TextToSpeech 对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">private static final String IFLYTEK = &quot;com.iflytek.tts&quot;;</span><br><span class="line">TextToSpeech tts = null;</span><br><span class="line">int version = Build.VERSION.SDK_INT;</span><br><span class="line"></span><br><span class="line">Log.i(TAG, action);</span><br><span class="line">if (tts == null) &#123;</span><br><span class="line">    if (version &gt; 14) &#123;</span><br><span class="line">        tts = new TextToSpeech(context, this, IFLYTEK);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        tts = new TextToSpeech(context, this);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这里的 <code>this</code> 对象一定要实现 OnInitListener 接口<br>在android版本14的时候，提供创建一个TTS对象的同时可以指定默认语音引擎。</p>
</blockquote>
<p>实现 <code>OnInitListener</code> 接口</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">public void onInit(int status) &#123;</span><br><span class="line">    if (status == TextToSpeech.SUCCESS) &#123;</span><br><span class="line">        ready = true;</span><br><span class="line">        Log.i(TAG, &quot;初始化成功&quot;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        show(&quot;暂无语音引擎&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Android版本14之前的版本，需要设定默认语音引擎，需要调用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (ready) &#123;</span><br><span class="line">    tts.setEngineByPackageName(IFLYTEK);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>调用<code>setEngineByPackageName</code>时，需要在tts对象的<code>onInit</code>调用成功之后。</p>
</blockquote>
<p>在使用语音引擎之前，我们需要需要检测一下语音引擎是否安装。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">private boolean checkApkExist(String packageName) &#123;</span><br><span class="line">    if (packageName == null || &quot;&quot;.equals(packageName.trim())) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    try &#123;</span><br><span class="line">        ApplicationInfo info = context.getPackageManager().getApplicationInfo(packageName, PackageManager.GET_UNINSTALLED_PACKAGES);</span><br><span class="line">    &#125; catch (PackageManager.NameNotFoundException e) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果，语音引擎已经安装了，那么我就可以使用 speak 方法了，将我们的一段文字转换成语音。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (ready) &#123;</span><br><span class="line">    tts.speak(&quot;我是中国人&quot;, TextToSpeech.QUEUE_ADD, null);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：调用 speak 方法时，一定是要在 OnInit 方法回调之后。<br>上面的调用方法，在API 21的时候，已经被弃用。</p>
</blockquote>
<p>如果speak了一段很长的话，我们想停止的时候，可以使用stop方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (ready &amp;&amp; tts.isSpeaking()) &#123;</span><br><span class="line">    tts.stop();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最后，当我们关闭Activity 的时候，请谨记释放资源。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">public void onDestroy() &#123;</span><br><span class="line">    if (tts != null) &#123;</span><br><span class="line">        tts.shutdown();</span><br><span class="line">        tts = null;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>点击这里，查看<a href="/files/Demo.java">源代码</a></p>

      
    </div><!-- .entry-content -->

    <footer class="entry-meta">
    <a href="/android/text_to_speech/">
    <time datetime="2016-03-22T02:24:36.000Z" class="entry-date">
        2016-03-22
    </time>
</a>
    
    
  <span class="article-delim">&#8226;</span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li></ul>

    </footer>
</article>






  
    <article id="post-swift/01" class="post-swift/01 post type-post status-publish format-standard hentry">
    <!---->

      <header class="entry-header">
        
        
  
    <h1 class="entry-title">
      <a class="article-title" href="/swift/01/">Swift Lesson 01</a>
    </h1>
  

        
        <div class="comments-link">
            
            <a href="/swift/01/#comments" class="leave-reply">评论</a>
            
            <a href="javascript:void(0);" data-url="http://lagelalegal.github.io/swift/01/" data-id="cim36ohq80005wj33otg6lh46" class="leave-reply bdsharebuttonbox" data-cmd="more">分享</a>
        </div><!-- .comments-link -->
      </header><!-- .entry-header -->

    <div class="entry-content">
      
        <p>Swift 第一课时</p>
<h2 id="常量与变量"><a href="#常量与变量" class="headerlink" title="常量与变量"></a>常量与变量</h2><p><code>常量</code> 不可被修改。<br><code>变量</code> 可被修改。</p>
<p>声明方式<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> maxLoginAttempts = <span class="number">10</span></span><br><span class="line"><span class="keyword">var</span> currentAttempt = <span class="number">0</span></span><br></pre></td></tr></table></figure></p>
<p>多个变量声明<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">0</span>, y = <span class="number">0</span>, z = <span class="number">0.0</span></span><br></pre></td></tr></table></figure></p>
<p><strong>小提示</strong></p>
<blockquote>
<p>如果存储的值不会发生改变，请使用<code>常量</code>，<code>变量</code>只用来存储汇会改变的内容。</p>
</blockquote>
<h2 id="类型注解"><a href="#类型注解" class="headerlink" title="类型注解"></a>类型注解</h2><blockquote>
<p>当你创建一个变量时，可以显示的指定变量类型（虽然Swift非常聪明，可以自己推导）。</p>
</blockquote>
<p>使用方式<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> welcomeMessage: <span class="type">String</span></span><br></pre></td></tr></table></figure></p>
<p>多个变量声明<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> red, green, blue: <span class="type">Double</span></span><br></pre></td></tr></table></figure></p>
<p><strong>小提示</strong></p>
<blockquote>
<p>如果你提供了一个初始值，就不用指定变量类型。</p>
</blockquote>
<p>这种方式是不必要的<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> red: <span class="type">String</span> = <span class="string">"test"</span></span><br></pre></td></tr></table></figure></p>
<h2 id="打印"><a href="#打印" class="headerlink" title="打印"></a>打印</h2><blockquote>
<p>print() 函数是Swift的基本打印功能, 它可以打印任意的常量和变量</p>
</blockquote>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><blockquote>
<p>注释是一个语言的基本模块，方便我们调试，隐藏不必要的信息，解释一段程序的功能等。</p>
</blockquote>
<p>使用方式<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 我是单行注释</span></span><br><span class="line"><span class="comment">/* 我是多行注释</span><br><span class="line">快点注释我！</span><br><span class="line"><span class="comment">/* 我不同于其他语言，我还可以嵌套多行注释哦! */</span></span><br><span class="line">*/</span></span><br></pre></td></tr></table></figure></p>
<h2 id="数字类型"><a href="#数字类型" class="headerlink" title="数字类型"></a>数字类型</h2><p>和c语言一样，它也提供了 <code>signed</code> 和 <code>unsigned</code> 两种数字类型(有符号和无符号)<br>有符号的数字：（正数，0，负数）<br>无符号的数字：（正数，0）<br>Swift将数字按照位数分成了几类： <code>8</code> <code>16</code> <code>32</code> <code>64</code></p>
<h4 id="数字界限"><a href="#数字界限" class="headerlink" title="数字界限"></a>数字界限</h4><blockquote>
<p>Swfit 提供了直接访问数字的最大值和最小值。</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="built_in">max</span> = <span class="type">UInt8</span>.<span class="built_in">max</span>  <span class="comment">// 255</span></span><br><span class="line"><span class="keyword">let</span> <span class="built_in">min</span> = <span class="type">UInt8</span>.<span class="built_in">min</span>  <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>
<h4 id="Int"><a href="#Int" class="headerlink" title="Int"></a>Int</h4><blockquote>
<p>Swift 提供了一个默认的类型 <code>Int</code> 它是根据当前系统的位数定义的。</p>
<ul>
<li>在32位系统中，Int 等于 Int32</li>
<li>在64位系统中，Int 等于 Int64</li>
</ul>
</blockquote>
<h4 id="UInt"><a href="#UInt" class="headerlink" title="UInt"></a>UInt</h4><blockquote>
<p>Swfit 提供一个无符号的类型 <code>UInt</code>, 它和 <code>Int</code> 类型一致，根据当前系统的位数定义。</p>
</blockquote>
<p><strong> 小提示 </strong></p>
<blockquote>
<p>如果当你需要明确指定无符号的类型时才使用<code>UInt</code>，否则 <code>Int</code> 类型应当是你的首选项。</p>
</blockquote>
<h2 id="浮点数类型"><a href="#浮点数类型" class="headerlink" title="浮点数类型"></a>浮点数类型</h2><blockquote>
<p>浮点数类型，一般指 <code>Double</code> 和 <code>Float</code></p>
<ul>
<li><code>Double</code> 代表 64位 浮点数类型。</li>
<li><code>Float</code> 代表 32位 浮点数类型。</li>
</ul>
</blockquote>
<p><strong> 小提示 </strong></p>
<blockquote>
<p><code>Double</code> 类型的精确度至少有 15位，而 <code>Float</code> 类型的精确度比 <code>Double</code> 少 6位。</p>
</blockquote>
<h2 id="类型安全和类型推论"><a href="#类型安全和类型推论" class="headerlink" title="类型安全和类型推论"></a>类型安全和类型推论</h2><blockquote>
<p>Swift 语言是类型安全的语言，同 java 一样，但同时不同于 java 的是，它可以推导出变量的类型。两个特点是同事兼备的。</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pi = <span class="number">3.1415926</span></span><br><span class="line"><span class="comment">// pi 类型是 Double</span></span><br><span class="line"><span class="keyword">let</span> maxLimit = <span class="number">2</span></span><br><span class="line"><span class="comment">// maxLimit 类型是 Int</span></span><br><span class="line"><span class="keyword">let</span> anotherPi = <span class="number">3</span> + <span class="number">0.1415926</span></span><br><span class="line"><span class="comment">// anotherPi 类型是 Double</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"test"</span></span><br><span class="line"><span class="comment">// str 类型是 String</span></span><br><span class="line">str = <span class="number">1</span></span><br><span class="line"><span class="comment">// 编译错误，不能指派 Int 类型给 String 类型。</span></span><br></pre></td></tr></table></figure>
<h2 id="数字进制"><a href="#数字进制" class="headerlink" title="数字进制"></a>数字进制</h2><blockquote>
<p>Swift 也提供了一个直接表示数字的进制<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 十进制</span></span><br><span class="line"><span class="keyword">let</span> decimalInteger = <span class="number">17</span></span><br><span class="line"><span class="comment">// 二进制</span></span><br><span class="line"><span class="keyword">let</span> binaryInteger = <span class="number">0b10001</span></span><br><span class="line"><span class="comment">// 八进制</span></span><br><span class="line"><span class="keyword">let</span> octalInteger = <span class="number">0o21</span></span><br><span class="line"><span class="comment">// 十六进制</span></span><br><span class="line"><span class="comment">// hexadecimaInteger = 0x11</span></span><br><span class="line"><span class="comment">// 科学计数法</span></span><br><span class="line"><span class="number">1.25e2</span> = <span class="number">1.25</span> * <span class="number">10</span> * <span class="number">10</span></span><br><span class="line"><span class="number">1.25e</span>-<span class="number">2</span> = <span class="number">1.25</span> / <span class="number">10</span> / <span class="number">10</span></span><br><span class="line"><span class="comment">// 十六进制科学计数法</span></span><br><span class="line">0xFp2 = <span class="number">15</span> * <span class="number">2</span> * <span class="number">2</span></span><br><span class="line">0xFp-<span class="number">2</span> = <span class="number">15</span> / <span class="number">2</span> / <span class="number">2</span></span><br><span class="line"><span class="comment">// 声明数字(支持_)</span></span><br><span class="line"><span class="keyword">let</span> oneMillion = <span class="number">1_000_000</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="类型花名（别名）"><a href="#类型花名（别名）" class="headerlink" title="类型花名（别名）"></a>类型花名（别名）</h2><blockquote>
<p>给 Swift 已经存在的类型名称，取一个别名</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typealias</span> <span class="type">AudioSample</span> = <span class="type">UInt16</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> maxAmplitudeFound = <span class="type">AudioSample</span>.<span class="built_in">min</span></span><br></pre></td></tr></table></figure>
<h2 id="Boolean"><a href="#Boolean" class="headerlink" title="Boolean"></a>Boolean</h2><blockquote>
<p>和其他语言一样 <code>True</code> <code>False</code></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> i &#123;</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="元组-Tuples"><a href="#元组-Tuples" class="headerlink" title="元组 (Tuples)"></a>元组 (Tuples)</h2><blockquote>
<p>元组是多个数据组成一组，它包含任意类型</p>
</blockquote>
<p>例如<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> http404 = (<span class="number">404</span>, <span class="string">"Not Found"</span>)</span><br><span class="line"><span class="keyword">let</span> http200 = (status: <span class="number">200</span>, description: <span class="string">"OK"</span>)</span><br><span class="line"><span class="built_in">print</span>(http200.status, http200.description)</span><br><span class="line"><span class="comment">// 200 OK</span></span><br></pre></td></tr></table></figure></p>
<p><strong> 小提示 </strong></p>
<blockquote>
<p>元组是非常有用的数组结构，可以存储任意的类型，可以根据你的需求声明独特的数据结构。</p>
</blockquote>
<h2 id="Optionals-可选的"><a href="#Optionals-可选的" class="headerlink" title="Optionals(可选的)"></a>Optionals(可选的)</h2><blockquote>
<p>你可以在值可能不存在的地方使用 optionals.<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> possibleNumber = <span class="string">"123"</span></span><br><span class="line"><span class="keyword">let</span> convertedNumber = <span class="type">Int</span>(possibleNumber)</span><br><span class="line"><span class="comment">// convertedNumber 被推导成一个 Int? 或者 Optional Int(Int? or not Int)</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="nil"><a href="#nil" class="headerlink" title="nil"></a>nil</h2><blockquote>
<p>你可以给 optional 变量分配一个特殊的值 nil .</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> surverAnswer: <span class="type">String</span>?</span><br><span class="line"><span class="comment">// surverAnswer 的值自动的被设置成 nil</span></span><br><span class="line"><span class="comment">// 可以使用 if 语句来检测值是否是 nil</span></span><br><span class="line"><span class="keyword">if</span> surverAnswer != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"surverAnswer is /(surverAnswer)"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong> 小提示 </strong></p>
<blockquote>
<p>尝试使用 <code>!</code> 来判断 optional 值，可以有效控制运行时错误发生。每次优先判断 optional 值存在时，才去使用 optional 值。</p>
</blockquote>
<h2 id="optional-绑定"><a href="#optional-绑定" class="headerlink" title="optional 绑定"></a>optional 绑定</h2><blockquote>
<p>optional 绑定可以使用在 <code>if</code> 和 <code>while</code> 语句中<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> a = <span class="type">Int</span>(<span class="string">"4"</span>), b = <span class="type">Int</span>(<span class="string">"10"</span>) <span class="keyword">where</span> a &lt; b &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"<span class="subst">\(a)</span> &lt; <span class="subst">\(b)</span>"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="隐式展开-optional"><a href="#隐式展开-optional" class="headerlink" title="隐式展开 optional"></a>隐式展开 optional</h2><blockquote>
<p>隐式展开的好处，在于不用在每次调用 optional的时候，去检测它是否存在。</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> possibleString: <span class="type">String</span>? = <span class="string">"Ha ha"</span></span><br><span class="line"><span class="keyword">let</span> forcedString: <span class="type">String</span> = possibleString!</span><br><span class="line"><span class="comment">// 调用 possibleString 时，需要使用 ! 去检测它的值是否存在</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> assumedString: <span class="type">String</span>! = <span class="string">"Ha ha"</span></span><br><span class="line"><span class="keyword">let</span> implicitString: <span class="type">String</span> = assumedString</span><br><span class="line"><span class="comment">// 调用 assumedString 时，不需要使用 ！去检测，它会自动检测值是否存在。</span></span><br></pre></td></tr></table></figure>
<p><strong> 小提示 </strong></p>
<blockquote>
<p>如果 隐式展开 optional的值是nil，尝试使用它的时候，它会抛出一个运行时错误。</p>
</blockquote>
<h2 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h2><blockquote>
<p>当你的程序遭遇错误时，你可以使用 错误处理 来响应你的错误信息。</p>
</blockquote>
<ul>
<li>你可以指明你的函数抛出一个错误。使用关键字 <code>throws</code></li>
<li>使用 <code>try</code> <code>catch</code> 来捕获你的错误信息。</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">makeASandwich</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</span><br><span class="line">    ···</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> makeASandwich()</span><br><span class="line">    eatASandwich()</span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="type">Error</span>.<span class="type">OutOfCleanDishes</span> &#123;</span><br><span class="line">    washDishes()</span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="type">Error</span>.<span class="type">MissingIngredients</span>(<span class="keyword">let</span> ingredients) &#123;</span><br><span class="line">    buyGroceries(ingredients)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="断言"><a href="#断言" class="headerlink" title="断言"></a>断言</h2><blockquote>
<p>有时候，你的代码不可能简单的继续执行，当它不满足一些特定的条件。在这些情况下，你可以使用一个断言在你的代码中到代码运行结束，当发生在一些缺失和无效值的时候可以提供一个调试机会。</p>
</blockquote>
<p>调试与断言</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age = -<span class="number">3</span></span><br><span class="line"><span class="built_in">assert</span>(age &gt;=<span class="number">0</span>, <span class="string">"A person's age cannot be less than zero"</span>)</span><br></pre></td></tr></table></figure>
<p><strong> 小提示 </strong></p>
<blockquote>
<p>使用机构编译后的代码，断言是被禁用的。例如，当你编译正式版时在 Xcode 中是禁用的。</p>
</blockquote>
<p>断言的使用场景</p>
<ul>
<li>一个数字下标是通过一个自定义下标实现的，但是下标索引值不能太低和太高。</li>
<li>通过函数得到一个值，但是一个无效的值意味着这个函数是不能完成任务的。</li>
<li>一个可选的值是 nil, 但是一个 non-nil 值被使用，而且代码还执行成功了。</li>
</ul>
<p><strong> 小提示 </strong></p>
<blockquote>
<p>断言能够造成你的应用停止运行，这不能替代你的代码设计的当一个无效的情况从不可能上升到可能。既然如此，在一个无效的情况变为可能时，一个断言是有效的方式，在你的应用发布前可以确保这个条件能够高亮并且通知到开发者。</p>
</blockquote>

      
    </div><!-- .entry-content -->

    <footer class="entry-meta">
    <a href="/swift/01/">
    <time datetime="2016-03-17T07:54:36.000Z" class="entry-date">
        2016-03-17
    </time>
</a>
    
    
  <span class="article-delim">&#8226;</span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

    </footer>
</article>






  
    <article id="post-hello-world" class="post-hello-world post type-post status-publish format-standard hentry">
    <!---->

      <header class="entry-header">
        
        
  
    <h1 class="entry-title">
      <a class="article-title" href="/blog/hello_world/">Hello World</a>
    </h1>
  

        
        <div class="comments-link">
            
            <a href="/blog/hello_world/#comments" class="leave-reply">评论</a>
            
            <a href="javascript:void(0);" data-url="http://lagelalegal.github.io/blog/hello_world/" data-id="cim36ohow0001wj33bkm409aq" class="leave-reply bdsharebuttonbox" data-cmd="more">分享</a>
        </div><!-- .comments-link -->
      </header><!-- .entry-header -->

    <div class="entry-content">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div><!-- .entry-content -->

    <footer class="entry-meta">
    <a href="/blog/hello_world/">
    <time datetime="2016-03-16T02:43:16.000Z" class="entry-date">
        2016-03-16
    </time>
</a>
    
    
    </footer>
</article>






  
  

</div></div>
        <div id="secondary" class="widget-area" role="complementary">
  
    <aside id="search" class="widget widget_search"><form role="search" method="get" accept-charset="utf-8" id="searchform" class="searchform" action="//google.com/search">
    <div>
        <input type="text" value="" name="s" id="s" />
        <input type="submit" id="searchsubmit" value="搜索" />
    </div>
</form></aside>
  
    
  
    
  
    

  <aside class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-content">
      <ul>
        
          <li>
            <a href="/android/text_to_speech/">Android TextToSpeech简单应用</a>
          </li>
        
          <li>
            <a href="/swift/01/">Swift Lesson 01</a>
          </li>
        
          <li>
            <a href="/blog/hello_world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </aside>

  
    
  <aside class="widget">
    <h3 class="widget-title">标签</h3>
    <div class="widget-content">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/">android</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/swift/">swift</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </aside>

  
    
  <aside class="widget">
    <h3 class="widget-title">云标签</h3>
    <div class="widget-content tagcloud">
      <a href="/tags/android/" style="font-size: 10px;">android</a> <a href="/tags/swift/" style="font-size: 10px;">swift</a>
    </div>
  </aside>

  
</div>
      </div>
      <footer id="colophon" role="contentinfo">
    <p>&copy; 2016 Lagel
    All rights reserved.</p>
    <p>Powered by <a href="http://www.abstack.com/" target="_blank">Abstack</a></p>
</footer>
    <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>

<script src="/js/jquery-2.0.3.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

<script src="/js/navigation.js"></script>

<div id="bg"></div>

  </div>
</body>
</html>